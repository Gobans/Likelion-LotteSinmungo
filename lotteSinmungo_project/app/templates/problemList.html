{% extends "template.html" %}
{% load static %}

{% block title %}
<title>롯데신문고</title>
{% endblock title %}

{% block contents %}

    <select id="sort-select" onchange="location = this.value;">
        <option class= "sort-date'" value="?sort=early_date">최신순</option>
        <option class= "sort-likes" value="?sort=many_like">공감순</option>
    </select>

    <a href = "{% url 'index' %}">이미지로고자리</a>
    <a href ="{% url 'solution' %}">롯데가해냈어</a>
    <a href ="{% url 'problemList' %}">롯데의숙제들</a>
    <a href ="{% url 'writing' %}">롯데에게말해줘</a>
    <a href='/signin'>로그인</a>
    <a href='/signup'>회원가입</a>

    {% for i in problem_list_item %}
        <a href= "{% url 'problemDetail' i.id %}"><h1> {{i.title}} ♥:{{i.like_count}}</h1></a>

    {% endfor %}

<script>
    // get url query string
    var getUrlParameter = function getUrlParameter(sParam) {
        var sPageURL = decodeURIComponent(window.location.search.substring(1)),
            sURLVariables = sPageURL.split('&'),
            sParameterName,
            i;

        for (i = 0; i < sURLVariables.length; i++) {
            sParameterName = sURLVariables[i].split('=');

            if (sParameterName[0] === sParam) {
                return sParameterName[1] === undefined ? true : sParameterName[1];
            }
        }
    };
    // 정렬방식 셀렉트 박스 유지
    $(document).ready(function(){
    var sort = getUrlParameter('sort');
    if(sort == 'many_like'){
        $('.sort-likes').prop('selected', 'selected')
    }else{
        $('.sort-date').prop('selected', 'selected')
    }
    });

</script>

{% endblock contents %}